@startuml

hide stereotype

<style>
{{#each layers as |layer|}}
    .{{layer.id}} {
        BackgroundColor #{{layer.background_color}};
        BorderColor #{{layer.border_color}};
        FontColor #{{layer.text_color}};
    }
{{/each}}
</style>

{{#each hierarchy_tree as |rootnode|}}
{{{puml_render_tree rootnode ../layers}}}
{{/each}}
{{#each flow_edges as |edge|}}
    {{#if (exists edge.label)}}
 {{edge.source}} --> {{edge.target}} : "{{edge.label}}"
    {{else}}
 {{edge.source}} --> {{edge.target}}
    {{/if}}
{{/each}}

@enduml
