meta:
  name: "Layercake Design Implementation Plan"
  description: "DAG-based implementation plan for completing the Layercake tool according to DESIGN.md"
  version: "1.0.0"

import:
  profiles:
    - filename: "implementation-tasks.csv"
      filetype: "Nodes"
    - filename: "implementation-dependencies.csv"
      filetype: "Edges"
    - filename: "implementation-phases.csv"
      filetype: "Layers"

export:
  profiles:
    # Phase Overview Exports
    - filename: "docs/plans/implementation-overview.md"
      exporter: !Custom
        template: "implementation-overview.hbs"
        render_config:
          title: "Implementation Plan Overview"
          show_phases: true
          show_dependencies: true
    
    # Phase 1: Frontend Foundation
    - filename: "docs/plans/phase-1-frontend.md"
      exporter: !Custom
        template: "phase-tasks.hbs"
        graph_config:
          filter_layers: ["phase-1"]
        render_config:
          phase_name: "Frontend Foundation"
          phase_description: "Create React frontend infrastructure and basic UI"
    
    # Phase 2: Advanced Graph Features
    - filename: "docs/plans/phase-2-graph-features.md"
      exporter: !Custom
        template: "phase-tasks.hbs"
        graph_config:
          filter_layers: ["phase-2"]
        render_config:
          phase_name: "Advanced Graph Features"
          phase_description: "Implement graph versioning, transformations, and analysis"
    
    # Phase 3: User Experience
    - filename: "docs/plans/phase-3-ux.md"
      exporter: !Custom
        template: "phase-tasks.hbs"
        graph_config:
          filter_layers: ["phase-3"]
        render_config:
          phase_name: "Enhanced User Experience"
          phase_description: "Polish UI and add productivity features"
    
    # Phase 4: Performance & Scalability
    - filename: "docs/plans/phase-4-performance.md"
      exporter: !Custom
        template: "phase-tasks.hbs"
        graph_config:
          filter_layers: ["phase-4"]
        render_config:
          phase_name: "Performance & Scalability"
          phase_description: "Optimize for large graphs and high-performance scenarios"
    
    # Dependency Visualizations
    - filename: "docs/plans/implementation-dag.dot"
      exporter: "DOT"
      render_config:
        orientation: "TB"
        contain_nodes: true
        show_task_ids: true
    
    - filename: "docs/plans/implementation-dag.mermaid"
      exporter: "Mermaid"
      render_config:
        direction: "TB"
        show_dependencies: true
    
    - filename: "docs/plans/implementation-dag.puml"
      exporter: "PlantUML"
      render_config:
        orientation: "TB"
        contain_nodes: true
    
    # Phase-specific DAGs
    - filename: "docs/plans/phase-1-dag.dot"
      exporter: "DOT"
      graph_config:
        filter_layers: ["phase-1"]
        include_dependencies: true
      render_config:
        orientation: "LR"
        contain_nodes: false
    
    - filename: "docs/plans/phase-2-dag.dot"
      exporter: "DOT"
      graph_config:
        filter_layers: ["phase-2"]
        include_dependencies: true
      render_config:
        orientation: "LR"
        contain_nodes: false
    
    # Critical Path Analysis
    - filename: "docs/plans/critical-path.json"
      exporter: "JSON"
      graph_config:
        analyze_critical_path: true
        include_task_durations: true
    
    # Task Lists by Priority
    - filename: "docs/plans/high-priority-tasks.csv"
      exporter: "CSVNodes"
      graph_config:
        filter_by_priority: ["high", "critical"]
    
    - filename: "docs/plans/ready-tasks.csv"
      exporter: "CSVNodes"
      graph_config:
        filter_by_status: ["ready", "blocked"]
        show_dependencies: true
    
    # Progress Tracking
    - filename: "docs/plans/implementation-matrix.csv"
      exporter: "CSVMatrix"
      render_config:
        show_phase_dependencies: true
        include_task_status: true
    
    # Milestone Tracking
    - filename: "docs/plans/milestones.gml"
      exporter: "GML"
      graph_config:
        filter_node_types: ["milestone"]
        include_dependencies: true
      render_config:
        show_completion_percentage: true
